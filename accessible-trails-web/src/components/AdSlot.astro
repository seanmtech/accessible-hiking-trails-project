---
import SkeletonLoader from './SkeletonLoader.astro';

interface Props {
  slotId: string;
  format?: 'auto' | 'fluid' | 'rectangle';
  className?: string;
}

const { slotId, format = 'auto', className = '' } = Astro.props;
const isDev = import.meta.env.DEV;
---

{
  isDev ? (
    <SkeletonLoader 
      label={`Ad Slot: ${slotId}`} 
      className={className}
    />
  ) : (
    <div class={`ad-container ${className}`}>
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-XXXXXXXXXXXXXXXX" 
           data-ad-slot={slotId}
           data-ad-format={format}
           data-full-width-responsive="true"></ins>
      <script is:inline>
           (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
  )
}
